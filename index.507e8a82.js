!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var r={id:t,exports:{}};return e[t]=r,o.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequired7c6=o);var r="library-watched",a="library-queie",l=JSON.parse(localStorage.getItem(r)),c=JSON.parse(localStorage.getItem(a)),i=[],s=[];console.log(l),l||localStorage.setItem(r,JSON.stringify(i)),c||localStorage.setItem(a,JSON.stringify(s)),l.length?i=JSON.parse(localStorage.getItem(r)):localStorage.setItem(r,JSON.stringify(i)),c.length?s=JSON.parse(localStorage.getItem(a)):localStorage.setItem(a,JSON.stringify(s));var d,u,m=document.querySelector(".modal-film"),g=document.querySelector(".gallery");function f(t){var e,n,o,l,c,g;t.target.closest("li")&&(!function(t){var e=u.find((function(e){return e.id===Number(t)}));d=e;var n=e.original_title,o=e.popularity,r=e.vote_average,a=e.vote_count,l=e.overview,c=e.poster_path,i=e.title,s=e.genre_name,g=r.toString().slice(0,3),f=Math.floor(o),p=s.join(", "),b="\n  <div class='backdrop'>\n    <div class='modal-container'>\n      <button class=\"btn-close\" type=\"button\" data-action='close-modal-1'></button>\n      <div class='cont-preview' >\n        <img class='cont-prew__image' src=\"https://image.tmdb.org/t/p/w500".concat(c,'" alt="').concat(i,"\" loading=\"lazy\" />\n      </div>\n      \n      <div class='modal-content'>\n        <h3 class='film-title'>").concat(n,"</h3>\n          <table class='table'>\n        <tbody>\n          <tr>\n            <td><p class='table-text__left'>Vote / Votes</p></td>\n            <td>\n              <p class='table-text__right'>\n                <span class='average'>").concat(g,"</span>\n                <span class='awerage-dot'> /</span> ").concat(a,"\n              </p>\n            </td>\n            </tr>\n          <tr>\n            <td><p class='table-text__left'>Popularity</p></td>\n            <td><p class='table-text__right'>").concat(f,"</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Original Title</p></td>\n            <td><p class='table-text__right '>").concat(n,"</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Genre</p></td>\n            <td><p class='table-text__right '>").concat(p,"</p></td>\n          </tr>\n        </tbody>\n        </table>\n          <p class='descr-text'>About</p>\n          <p class='descr-text-content '> ").concat(l,"</p>\n        <ul class='btn-list'>\n          <li class='btn-list__item'>\n           <button class='btn-list__item-btn--add' type=\"button\">add to Watched</button>\n          </li>\n          <li class='btn-list__item'>\n            <button class='btn-list__item-btn--queie' type=\"button\">add to queue</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  ");m.insertAdjacentHTML("afterbegin",b)}(t.target.closest("li").id),e=document.querySelector('[data-action="close-modal-1"]'),n=document.querySelector(".modal-film"),o=document.querySelector(".backdrop"),e.addEventListener("click",(function(t){n.innerHTML="",document.body.classList.remove("hidden")})),o.addEventListener("click",(function(t){t.currentTarget===t.target&&(n.innerHTML="",document.body.classList.remove("hidden"))})),window.addEventListener("keydown",(function t(e){"Escape"===e.code&&(n.innerHTML="",window.removeEventListener("keydown",t),document.body.classList.remove("hidden"))})),l=d,c=document.querySelector(".btn-list__item-btn--add"),g=document.querySelector(".btn-list__item-btn--queie"),c.addEventListener("click",(function(){i.push(l),localStorage.setItem(r,JSON.stringify(i))})),g.addEventListener("click",(function(){s.push(l),localStorage.setItem(a,JSON.stringify(s))})),document.body.classList.add("hidden"))}function p(t){g.addEventListener("click",f),u=t}var b,v=o("f5LFc"),y=o("6gYyp"),_=(v=o("f5LFc"),{container:document.querySelector(".pagination-container"),leftArrow:document.querySelector(".left-arrow"),rightArrow:document.querySelector(".rightArrow")});new(0,v.ThemoviedbAPI);function h(t,e){if(t&&e&&1!==e){var n="",o=t-1,r=t+1,a=t+2;t>1&&(n+='<li class="button style_color">&loarr;</li>'),t>2&&(n+='<li class="button style_enpty">1</li>'),t>4&&(n+='<li class="button">&middot&middot&middot</li>'),t>3&&(n+='<li class="button style_enpty">'.concat(t-2,"</li>")),t>1&&(n+='<li class="button style_enpty">'.concat(o,"</li>")),n+="<li class = 'pagination-active'>".concat(t,"</li>"),t+1<e&&(n+='<li class="button style_enpty">'.concat(r,"</li>")),t+2<e&&(n+='<li class="button style_enpty">'.concat(a,"</li>")),e>t+3&&(n+='<li class="button">&middot&middot&middot</li>'),e>t&&(n+='<li class="button style_enpty">'.concat(e,"</li>")),e>t&&(n+='<li class="button style_color">&roarr;</li>'),_.container.innerHTML=n}}(new(0,(v=o("f5LFc")).ThemoviedbAPI)).getGanres().then((function(t){b=t.genres}));var S=document.querySelector(".gallery"),L=document.querySelector(".pagination-container"),w=new(0,v.ThemoviedbAPI),q=1;function M(t){t.results.forEach((function(t){var e,n,o=(e=t.genre_ids,n=[],e.forEach((function(t){var e=b.find((function(e){return e.id===t}));n.push(e)})),n.map((function(t){return t.name})));!function(t,e){var n=t;n.genre_name=e}(t,o)}));var e=t.results;return S.insertAdjacentHTML("beforeend",(0,y.createCard)(t.results)),S.innerHTML=(0,y.createCard)(t.results),h(t.page,t.total_pages),L.addEventListener("click",E),e}function E(t){if("LI"===t.target.tagName&&"..."!==t.target.textContent){var e=t.target.textContent;q="⇽"===e?Number(q)-1:"⇾"===e?Number(q)+1:e,w.getMovies(q).then((function(t){p(M(t))}))}}w.getMovies().then((function(t){p(M(t))}));var T={openModalBtn:document.querySelector(".open-btn"),closeModalBtn:document.querySelector(".close-btn"),modal:document.querySelector(".modal")};function x(t){t.preventDefault(),T.modal.classList.toggle("is-hidden"),T.closeModalBtn.addEventListener("click",x),"hidden"===document.body.style.overflow?document.body.style.overflow="auto":document.body.style.overflow="hidden"}T.openModalBtn.addEventListener("click",x);var N=new(0,(v=o("f5LFc")).ThemoviedbAPI),I=document.querySelector(".search-input"),k=(document.querySelector(".gallery"),document.querySelector(".error")),O=document.querySelector(".pagination-container"),H=1;function A(t){return 0===t.total_results||""===I.value.trim()?(O.innerHTML="",k.innerHTML="Search result not successful. Enter the correct movie name and"):h(t.page,t.total_pages),p(M(t)),O.removeEventListener("click",E),O.addEventListener("click",J),t.results}function J(t){if("LI"===t.target.tagName&&"..."!==t.target.textContent){var e=t.target.textContent;H="⇽"===e?Number(H)-1:"⇾"===e?Number(H)+1:e,N.getSearchMovie(I.value,H).then(A)}}document.querySelector(".search-form").addEventListener("submit",(function(t){if(t.preventDefault(),""===I.value.trim())return;k.innerHTML="",H=1,N.getSearchMovie(I.value,H).then((function(t){if(0!==t.total_results){var e=M(t);A(t),p(e)}else k.innerHTML="Search result not successful. Enter the correct movie name and"}))}))}();
//# sourceMappingURL=index.507e8a82.js.map
