{"mappings":"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","sources":["src/js/componentsJs/toogleModal.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","src/js/componentsJs/setLocalStorage.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","src/js/API/themoviedb-api.js","src/js/componentsJs/createCard.js","src/js/pagination/pagination.js","src/js/componentsJs/decodeGanre.js","src/js/componentsJs/generateCardList.js","src/js/componentsJs/removeCard.js","src/js/componentsJs/manageFilms.js","src/js/templates/renderModalFilm.js","src/js/componentsJs/modalFooter.js","src/js/componentsJs/makeSpinner.js","src/js/API/search.js"],"sourcesContent":["export default function closeModal() {\n  const closeModalBtn = document.querySelector('[data-action=\"close-modal-1\"]');\n  const modalFilmCard = document.querySelector('.modal-film');\n  const backdropClose = document.querySelector('.backdrop');\n\n  closeModalBtn.addEventListener('click', evt => {\n    modalFilmCard.innerHTML = '';\n\n    document.body.classList.remove('hidden');\n  });\n  backdropClose.addEventListener('click', evt => {\n    if (evt.currentTarget === evt.target) {\n      modalFilmCard.innerHTML = '';\n\n      document.body.classList.remove('hidden');\n    }\n  });\n  window.addEventListener('keydown', onEscape);\n\n  function onEscape(evt) {\n    if (evt.code === 'Escape') {\n      modalFilmCard.innerHTML = '';\n      window.removeEventListener('keydown', onEscape);\n\n      document.body.classList.remove('hidden');\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","// import removeFilmsFromLibrary from './removeCard';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\n\nconst watchedCards = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\nconst queuedCards = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\nlet arrayWatched = [];\nlet arrayQueue = [];\n\nif (!watchedCards) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n}\n\nif (!watchedCards.length) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n} else {\n  arrayWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n}\n\nif (!queuedCards) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n}\n\nif (!queuedCards.length) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n} else {\n  arrayQueue = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n}\n\nexport function addToWatch(data) {\n  console.log('add watch');\n  const btnAddWatch = document.querySelector('.btn-list__item-btn--add');\n  btnAddWatch.addEventListener('click', () => {\n    data.inLocalStorage = true;\n    data.isWatched = true;\n\n    btnAddWatch.textContent = 'Added!';\n    btnAddWatch.disabled = true;\n\n    const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n\n    let cardIdWatch = [];\n\n    getCardWatched.map(el => {\n      cardIdWatch.push(el.id);\n    });\n\n    if (cardIdWatch.find(el => el === data.id)) {\n      return;\n    }\n\n    arrayWatched.push(data);\n    localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n  });\n}\n\nexport function addQueue(data) {\n  console.log('add queue');\n  const btnAddQueie = document.querySelector('.btn-list__item-btn--queie');\n  btnAddQueie.addEventListener('click', () => {\n    data.inLocalStorage = true;\n    data.isQueued = true;\n\n    btnAddQueie.textContent = 'Added!';\n    btnAddQueie.disabled = true;\n\n    const getCardQueue = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n    let cardIdQueue = [];\n\n    getCardQueue.map(el => {\n      cardIdQueue.push(el.id);\n    });\n\n    if (cardIdQueue.find(el => el === data.id)) {\n      return;\n    }\n    arrayQueue.push(data);\n    localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n  });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export class ThemoviedbAPI {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '?api_key=7a4cd4317772102a9b88ef6a54b71590';\n\n  constructor() {\n    this.page = 1;\n    this.BASE_URL = 'https://api.themoviedb.org/3/';\n    this.API_KEY = '?api_key=7a4cd4317772102a9b88ef6a54b71590';\n  }\n\n  async getMovies(page = this.page) {\n    const trending = 'trending';\n    const mediaType = 'movie';\n    const timeWindow = 'day';\n\n    try {\n      return await fetch(\n        `${this.BASE_URL}${trending}/${mediaType}/${timeWindow}${this.API_KEY}&page=${page}`\n      ).then(res => res.json());\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async getSearchMovie(keyword, page) {\n    try {\n      return await fetch(\n        `${this.BASE_URL}search/movie${this.API_KEY}&query=${keyword}&page=${page}`\n      ).then(res => res.json());\n    } catch (arr) {\n      console.log(err);\n    }\n  }\n\n  async getGanres() {\n    const genre = 'genre';\n    const option = 'movie';\n    const list = 'list';\n\n    try {\n      return await fetch(\n        `${this.BASE_URL}${genre}/${option}/${list}${this.API_KEY}`\n      ).then(res => res.json());\n    } catch (arr) {\n      console.log(err);\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nexport function createCard(data) {\n  return data\n    .map(\n      ({ id, poster_path, release_date, title, vote_average, genre_name }) => {\n        const average = vote_average.toString().slice(0, 3);\n\n        let dateYear;\n        dateYear = new Date(release_date).getFullYear();\n        let genreNames;\n        let verticalLine = `<span class=\"vertical-line\">|</span>`;\n        if (genre_name.length > 3) {\n          genreNames = genre_name.slice(0, 2).join(', ') + ', Other';\n        } else if (genre_name.length === 0) {\n          verticalLine = '';\n          genreNames = '';\n        } else {\n          genreNames = genre_name.join(', ');\n        }\n        let coverImage = 'https://i.ibb.co/JyBCdzw/sinema-empty.jpg';\n        let originPoster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        let avaibleYear = 'Info is not available';\n        if (!poster_path) {\n          originPoster = coverImage;\n        }\n        if (!dateYear) {\n          dateYear = avaibleYear;\n        }\n\n        return `\n          <li class=\"card_item grid-item\" id=${id}>\n            <div class=\"card__image\">\n              <img class=\"image\" src=${originPoster} alt=\"${title}\" loading=\"lazy\" />\n              </div>\n\n            <h1 class=\"card__title\">${title}</h1>\n            <div class=\"card__info\">\n              <div class=\"card__genres\">\n                <span class=\"genre\">${genreNames}</span>\n              </div>\n              ${verticalLine}\n              <span class=\"card__year\">${dateYear}</span>\n              <span class='card__average on-library'>${average}</span>\n            </div>\n          </li>\n        `;\n      }\n    )\n    .join('');\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\n\nconst refs = {\n  container: document.querySelector('.pagination-container'),\n  leftArrow: document.querySelector('.left-arrow'),\n  rightArrow: document.querySelector('.rightArrow'),\n};\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nexport function renderPagination(page, totalPages) {\n  if (!page || !totalPages || totalPages === 1) {\n    return;\n  }\n  let markup = '';\n  const beforePrevPage = page - 2;\n  const prevPage = page - 1;\n  const nextPage = page + 1;\n  const afterNextPage = page + 2;\n\n  if (page > 1) {\n    markup += `<li class=\"button style_color\">&loarr;</li>`;\n  }\n\n  if (page > 2) {\n    markup += `<li class=\"button style_enpty\">1</li>`;\n  }\n\n  if (page > 4) {\n    markup += `<li class=\"button\">&middot&middot&middot</li>`;\n  }\n\n  if (page > 3) {\n    markup += `<li class=\"button style_enpty\">${beforePrevPage}</li>`;\n  }\n\n  if (page > 1) {\n    markup += `<li class=\"button style_enpty\">${prevPage}</li>`;\n  }\n\n  markup += `<li class = 'pagination-active'>${page}</li>`;\n\n  if (page + 1 < totalPages) {\n    markup += `<li class=\"button style_enpty\">${nextPage}</li>`;\n  }\n\n  if (page + 2 < totalPages) {\n    markup += `<li class=\"button style_enpty\">${afterNextPage}</li>`;\n  }\n\n  if (totalPages > page + 3) {\n    markup += `<li class=\"button\">&middot&middot&middot</li>`;\n  }\n\n  if (totalPages > page) {\n    markup += `<li class=\"button style_enpty\">${totalPages}</li>`;\n  }\n\n  if (totalPages > page) {\n    markup += '<li class=\"button style_color\">&roarr;</li>';\n  }\n  refs.container.innerHTML = markup;\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nthemoviedbAPI.getGanres().then(setGenreArr);\n\nlet genresArr;\n\nfunction setGenreArr(data) {\n  genresArr = data.genres;\n}\n\nexport function serchGenre(curentArr) {\n  let curentGenres = [];\n\n  curentArr.forEach(element => {\n    let obj = genresArr.find(el => el.id === element);\n    curentGenres.push(obj);\n  });\n\n  const genrsNames = curentGenres.map(el => el.name);\n\n  return genrsNames;\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\nimport { createCard } from './createCard';\nimport { renderModalFilm } from '../templates/renderModalFilm';\nimport { renderPagination } from '../pagination/pagination';\nimport { serchGenre } from './decodeGanre';\n\nconst gallery = document.querySelector('.gallery');\nconst container = document.querySelector('.pagination-container');\nconst themoviedbAPI = new ThemoviedbAPI();\n\nlet currentPage = 1;\nexport function getApiList() {\n  themoviedbAPI.getMovies().then(data => {\n    const arr = handleSuccess(data);\n    renderModalFilm(arr);\n  });\n}\n\nexport function handleSuccess(data) {\n  if (!data.inLocalStorage) {\n    data.results.forEach(element => {\n      const genreName = serchGenre(element.genre_ids);\n      const newObj = recordingGenre(element, genreName);\n    });\n  }\n\n  let newData = data.results;\n  // gallery.insertAdjacentHTML('beforeend', createCard(data.results));\n  gallery.innerHTML = createCard(data.results);\n  renderPagination(data.page, data.total_pages);\n  container.addEventListener('click', handlePagination);\n  return newData;\n}\n\nexport function handlePagination(event) {\n  if (event.target.tagName !== 'LI' || event.target.textContent === '...') {\n    return;\n  }\n  const page = event.target.textContent;\n  if (page === '⇽') {\n    currentPage = Number(currentPage) - 1;\n  } else if (page === '⇾') {\n    currentPage = Number(currentPage) + 1;\n  } else {\n    currentPage = page;\n  }\n  themoviedbAPI.getMovies(currentPage).then(data => {\n    const arr = handleSuccess(data);\n    renderModalFilm(arr);\n  });\n}\n\nfunction recordingGenre(obj, arr) {\n  const newObj = obj;\n  newObj.genre_name = arr;\n  newObj.isWatched = false;\n  newObj.isQueued = false;\n\n  return newObj;\n}\n","import { handleSuccess } from './generateCardList';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\nlet currentPage = 1;\n\nexport function removeFromWatch(data) {\n  console.log('remove watch');\n  const btnAddWatch = document.querySelector('.btn-list__item-btn--add');\n  const dataPage = document.querySelector('[data-page]');\n  const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n\n  if (data.isWatched) {\n    btnAddWatch.textContent = 'Remove';\n  }\n\n  btnAddWatch.addEventListener('click', () => {\n    let cardIdWatch = [];\n    let newWatchedArray = getCardWatched.filter(el => el.id !== data.id);\n\n    getCardWatched.map(el => {\n      cardIdWatch.push(el.id);\n    });\n\n    if (!cardIdWatch.find(el => el === data.id)) {\n      return;\n    }\n\n    const localObj = {\n      page: currentPage,\n      results: newWatchedArray,\n      total_pages: 0,\n      inLocalStorage: false,\n      isWatched: false,\n    };\n\n    if (dataPage.dataset.page === 'library') {\n      handleSuccess(localObj);\n    }\n\n    btnAddWatch.textContent = 'Removed!';\n    btnAddWatch.disabled = true;\n\n    localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(newWatchedArray));\n  });\n}\n\nexport function removeFromQueue(data) {\n  console.log('remove queue');\n  const btnAddQueie = document.querySelector('.btn-list__item-btn--queie');\n\n  const dataPage = document.querySelector('[data-page]');\n\n  const getCardQueued = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n  if (data.isQueued) {\n    btnAddQueie.textContent = 'Remove';\n  }\n\n  btnAddQueie.addEventListener('click', () => {\n    let cardIdQueue = [];\n    let newQueuedArray = getCardQueued.filter(el => el.id !== data.id);\n\n    getCardQueued.map(el => {\n      cardIdQueue.push(el.id);\n    });\n\n    if (!cardIdQueue.find(el => el === data.id)) {\n      return;\n    }\n\n    const localObj = {\n      page: currentPage,\n      results: newQueuedArray,\n      total_pages: 0,\n      inLocalStorage: false,\n      isQueued: false,\n    };\n\n    if (dataPage.dataset.page === 'library') {\n      handleSuccess(localObj);\n    }\n\n    btnAddQueie.textContent = 'Removed!';\n    btnAddQueie.disabled = true;\n\n    localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(newQueuedArray));\n  });\n}\n","import { addToWatch } from './setLocalStorage';\nimport { addQueue } from './setLocalStorage';\nimport { removeFromWatch } from './removeCard';\nimport { removeFromQueue } from './removeCard';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\n\nexport default function manageFilms(data) {\n  const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n  const getCardQueued = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n  let cardIdWatch = [];\n  let cardIdQueue = [];\n\n  getCardWatched.map(el => {\n    cardIdWatch.push(el.id);\n  });\n  getCardQueued.map(el => {\n    cardIdQueue.push(el.id);\n  });\n\n  if (!cardIdWatch.find(el => el === data.id)) {\n    addToWatch(data);\n  } else {\n    removeFromWatch(data);\n  }\n\n  if (!cardIdQueue.find(el => el === data.id)) {\n    addQueue(data);\n  } else {\n    removeFromQueue(data);\n  }\n}\n","import closeModal from '../componentsJs/toogleModal';\nimport manageFilms from '../componentsJs/manageFilms';\n\nconst modalFilmCard = document.querySelector('.modal-film');\nconst getList = document.querySelector('.gallery');\n\nlet addLib;\nlet cards;\n\nfunction onclick(evt) {\n  if (!evt.target.closest('li')) {\n    return;\n  }\n  const ids = evt.target.closest('li').id;\n  renderFilms(ids);\n  closeModal();\n  manageFilms(addLib);\n\n  document.body.classList.add('hidden');\n}\n\nfunction renderFilms(id) {\n  const obj = cards.find(option => option.id === Number(id));\n  addLib = obj;\n  const {\n    original_title,\n    popularity,\n    vote_average,\n    vote_count,\n    overview,\n    poster_path,\n    title,\n    genre_name,\n  } = obj;\n\n  const average = vote_average.toString().slice(0, 3);\n  const popularityCalc = Math.floor(popularity);\n  const genreNames = genre_name.join(', ');\n\n  const renderFilm = `\n  <div class='backdrop'>\n    <div class='modal-container'>\n      <button class=\"btn-close\" type=\"button\" data-action='close-modal-1'></button>\n      <div class='cont-preview' >\n        <img class='cont-prew__image' src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n      </div>\n      \n      <div class='modal-content'>\n        <h3 class='film-title'>${original_title}</h3>\n          <table class='table'>\n        <tbody>\n          <tr>\n            <td><p class='table-text__left'>Vote / Votes</p></td>\n            <td>\n              <p class='table-text__right'>\n                <span class='average'>${average}</span>\n                <span class='awerage-dot'> /</span> ${vote_count}\n              </p>\n            </td>\n            </tr>\n          <tr>\n            <td><p class='table-text__left'>Popularity</p></td>\n            <td><p class='table-text__right'>${popularityCalc}</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Original Title</p></td>\n            <td><p class='table-text__right '>${original_title}</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Genre</p></td>\n            <td><p class='table-text__right '>${genreNames}</p></td>\n          </tr>\n        </tbody>\n        </table>\n          <p class='descr-text'>About</p>\n          <p class='descr-text-content '> ${overview}</p>\n        <ul class='btn-list'>\n          <li class='btn-list__item'>\n           <button class='btn-list__item-btn--add' type=\"button\">add to Watched</button>\n          </li>\n          <li class='btn-list__item'>\n            <button class='btn-list__item-btn--queie' type=\"button\">add to queue</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  `;\n\n  return modalFilmCard.insertAdjacentHTML('afterbegin', renderFilm);\n}\nexport function renderModalFilm(data) {\n  getList.addEventListener('click', onclick);\n  cards = data;\n}\n","const refs = {\n  openModalBtn: document.querySelector('.open-btn'),\n  closeModalBtn: document.querySelector('.close-btn'),\n  modal: document.querySelector('.modal'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal(event) {\n  event.preventDefault();\n  refs.modal.classList.toggle('is-hidden');\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  if (document.body.style.overflow === 'hidden') {\n    document.body.style.overflow = 'auto';\n  } else {\n    document.body.style.overflow = 'hidden';\n  }\n}\nexport default function callModal() {\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      return toggleModal(event);\n    }\n  });\n}\n","const spinner = document.querySelector('.load-wrapp');\n\nexport default function showSpinner(search) {\n  if (search === 'show') {\n    spinner.classList.remove('is-hidden');\n  }\n  if (search === 'hide') {\n    spinner.classList.add('is-hidden');\n  }\n}\n","import { ThemoviedbAPI } from './themoviedb-api';\nimport { renderPagination } from '../pagination/pagination';\nimport { handleSuccess } from '../componentsJs/generateCardList';\nimport { renderModalFilm } from '../templates/renderModalFilm';\nimport { handlePagination } from '../componentsJs/generateCardList';\nimport showSpinner from '../componentsJs/makeSpinner';\n\nconst themoviedbAPI = new ThemoviedbAPI();\nconst searchInput = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst errorText = document.querySelector('.error');\nconst container = document.querySelector('.pagination-container');\n\nlet currentPage = 1;\n\nconst searchForm = document.querySelector('.search-form');\nsearchForm.addEventListener('submit', search);\n\nexport function search(event) {\n  event.preventDefault();\n\n  if (searchInput.value.trim() === '') {\n    errorText.innerHTML = 'Please enter any text';\n    return;\n  }\n\n  errorText.innerHTML = '';\n  currentPage = 1;\n  showSpinner('show');\n\n  themoviedbAPI.getSearchMovie(searchInput.value, currentPage).then(data => {\n    if (data.total_results === 0) {\n      errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n      showSpinner('hide');\n      return;\n    }\n    const arr = handleSuccess(data);\n    processSuccess(data);\n    renderModalFilm(arr);\n    showSpinner('hide');\n  });\n}\n\nfunction processSuccess(data) {\n  if (data.total_results === 0 || searchInput.value.trim() === '') {\n    container.innerHTML = '';\n    errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n  } else {\n    renderPagination(data.page, data.total_pages);\n  }\n\n  const arr = handleSuccess(data);\n  renderModalFilm(arr);\n  container.removeEventListener('click', handlePagination);\n  container.addEventListener('click', handlePaginationForSearch);\n  return data.results;\n}\n\nfunction handlePaginationForSearch(event) {\n  if (event.target.tagName !== 'LI' || event.target.textContent === '...') {\n    return;\n  }\n  const page = event.target.textContent;\n  if (page === '⇽') {\n    currentPage = Number(currentPage) - 1;\n  } else if (page === '⇾') {\n    currentPage = Number(currentPage) + 1;\n  } else {\n    currentPage = page;\n  }\n  themoviedbAPI\n    .getSearchMovie(searchInput.value, currentPage)\n    .then(processSuccess);\n}\n"],"names":["$b7e02aaeb3f80b05$export$2e2bcd8739ae039","closeModalBtn","document","querySelector","modalFilmCard","backdropClose","addEventListener","evt","innerHTML","body","classList","remove","currentTarget","target","window","onEscape","code","removeEventListener","Object","defineProperty","module","exports","value","default","obj","privateCollection","has","TypeError","$f53c4050d74ee576$var$watchedCards","JSON","parse","localStorage","getItem","$f53c4050d74ee576$var$queuedCards","$f53c4050d74ee576$var$arrayWatched","$f53c4050d74ee576$var$arrayQueue","$f53c4050d74ee576$export$cd02e521d36c2bb","data","console","log","btnAddWatch","inLocalStorage","isWatched","textContent","disabled","getCardWatched","cardIdWatch","map","el","push","id","find","setItem","stringify","$f53c4050d74ee576$export$2d50e6498fc49b95","btnAddQueie","isQueued","getCardQueue","cardIdQueue","length","$bb98491953509995$exports","privateMap","$bb98491953509995$var$_checkPrivateRedeclaration","set","parcelRequire","__esModule","$4798b1163b53507f$var$_BASE_URL","WeakMap","$4798b1163b53507f$var$_API_KEY","$4798b1163b53507f$export$f0fa273f55fa4fe9","async","page","this","fetch","BASE_URL","API_KEY","then","res","json","err","keyword","arr","resetPage","constructor","$parcel$interopDefault","$f57d1f9f8a4a695e$export$b7316deff43c35f7","poster_path","release_date","title","vote_average","genre_name","average","toString","slice","dateYear","genreNames","Date","getFullYear","verticalLine","join","originPoster","$6077aa4079e9cd36$var$refs","container","leftArrow","rightArrow","$6077aa4079e9cd36$export$825408fbca4f2040","totalPages","markup","$e4ac023b5b82985a$var$genresArr","$e4ac023b5b82985a$export$816c344f8c28629","curentArr","curentGenres","forEach","element","name","getGanres","genres","$4f0b9b62dbd05c77$var$gallery","$4f0b9b62dbd05c77$var$container","$4f0b9b62dbd05c77$var$themoviedbAPI","$4f0b9b62dbd05c77$var$currentPage","$4f0b9b62dbd05c77$export$3134aad02465a5ae","results","newObj","$4f0b9b62dbd05c77$var$recordingGenre","genre_ids","newData","total_pages","$4f0b9b62dbd05c77$export$db9418c39585fd07","event","tagName","Number","getMovies","$eb5d7b1695745393$export$73c309201c7743a4","$258a0aa152a790f6$export$efd73f417efe230f","dataPage","newWatchedArray","filter","localObj","dataset","$258a0aa152a790f6$export$127439b6425a90f6","getCardQueued","newQueuedArray","$57ebb48687ca31b9$export$2e2bcd8739ae039","$eb5d7b1695745393$var$modalFilmCard","$eb5d7b1695745393$var$getList","$eb5d7b1695745393$var$addLib","$eb5d7b1695745393$var$cards","$eb5d7b1695745393$var$onclick","closest","option","original_title","popularity","vote_count","overview","popularityCalc","Math","floor","renderFilm","insertAdjacentHTML","$eb5d7b1695745393$var$renderFilms","add","$dff7f221eb395d99$var$refs","openModalBtn","modal","$dff7f221eb395d99$var$toggleModal","preventDefault","toggle","style","overflow","$79acd3476ca220c3$var$spinner","$79acd3476ca220c3$export$2e2bcd8739ae039","search","$4b58548a2d92c2fe$var$themoviedbAPI","$4b58548a2d92c2fe$var$searchInput","$4b58548a2d92c2fe$var$errorText","$4b58548a2d92c2fe$var$container","$4b58548a2d92c2fe$var$currentPage","$4b58548a2d92c2fe$var$processSuccess","total_results","trim","$4b58548a2d92c2fe$var$handlePaginationForSearch","getSearchMovie"],"version":3,"file":"index.32a3c592.js.map"}