{"mappings":"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","sources":["src/js/componentsJs/setLocalStorage.js","src/js/componentsJs/modalFooter.js","src/js/API/search.js","src/js/componentsJs/makeSpinner.js","src/index.js"],"sourcesContent":["// import removeFilmsFromLibrary from './removeCard';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\n\nconst watchedCards = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\nconst queuedCards = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\nlet arrayWatched = [];\nlet arrayQueue = [];\n\nif (!watchedCards) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n}\n\nif (!watchedCards.length) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n} else {\n  arrayWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n}\n\nif (!queuedCards) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n}\n\nif (!queuedCards.length) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n} else {\n  arrayQueue = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n}\n","const refs = {\n  openModalBtn: document.querySelector('.open-btn'),\n  closeModalBtn: document.querySelector('.close-btn'),\n  modal: document.querySelector('.modal'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal(event) {\n  event.preventDefault();\n  refs.modal.classList.toggle('is-hidden');\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  if (document.body.style.overflow === 'hidden') {\n    document.body.style.overflow = 'auto';\n  } else {\n    document.body.style.overflow = 'hidden';\n  }\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      return toggleModal(event);\n    }\n  });\n}\n","import { ThemoviedbAPI } from './themoviedb-api';\nimport { renderPagination } from '../pagination/pagination';\nimport { handleSuccess } from '../componentsJs/generateCardList';\nimport { renderModalFilm } from '../templates/renderModalFilm';\nimport { handlePagination } from '../componentsJs/generateCardList';\nimport showSpinner from '../componentsJs/makeSpinner';\n\nconst themoviedbAPI = new ThemoviedbAPI();\nconst searchInput = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst errorText = document.querySelector('.error');\nconst container = document.querySelector('.pagination-container');\n\nlet currentPage = 1;\n\nconst searchForm = document.querySelector('.search-form');\nsearchForm.addEventListener('submit', search);\n\nexport function search(event) {\n  event.preventDefault();\n\n  if (searchInput.value.trim() === '') {\n    errorText.innerHTML = 'Please enter any text';\n    errorText.style.color = '#ff001b';\n    return;\n  }\n\n  errorText.style.color = 'transparent';\n  currentPage = 1;\n  showSpinner('show');\n\n  themoviedbAPI.getSearchMovie(searchInput.value, currentPage).then(data => {\n    if (data.total_results === 0) {\n      errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n      errorText.style.color = '#ff001b';\n      showSpinner('hide');\n      return;\n    }\n\n    const arr = handleSuccess(data);\n    processSuccess(data);\n    renderModalFilm(arr);\n    showSpinner('hide');\n  });\n}\n\nfunction processSuccess(data) {\n  if (data.total_results === 0 || searchInput.value.trim() === '') {\n    container.innerHTML = '';\n    errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n  } else {\n    renderPagination(data.page, data.total_pages);\n  }\n\n  const arr = handleSuccess(data);\n  renderModalFilm(arr);\n  container.removeEventListener('click', handlePagination);\n  container.addEventListener('click', handlePaginationForSearch);\n  return data.results;\n}\n\nfunction handlePaginationForSearch(event) {\n  if (event.target.tagName !== 'LI' || event.target.textContent === '...') {\n    return;\n  }\n  const page = event.target.textContent;\n  if (page === '⇽') {\n    currentPage = Number(currentPage) - 1;\n  } else if (page === '⇾') {\n    currentPage = Number(currentPage) + 1;\n  } else {\n    currentPage = page;\n  }\n  themoviedbAPI\n    .getSearchMovie(searchInput.value, currentPage)\n    .then(processSuccess);\n}\n","const spinner = document.querySelector('.load-wrapp');\n\nexport default function showSpinner(search) {\n  if (search === 'show') {\n    spinner.classList.remove('is-hidden');\n  }\n  if (search === 'hide') {\n    spinner.classList.add('is-hidden');\n  }\n}\n","import './sass/index.scss';\nimport './js/componentsJs/setLocalStorage';\nimport { renderModalFilm } from './js/templates/renderModalFilm';\nimport { getApiList } from './js/componentsJs/generateCardList';\nimport callModal from './js/componentsJs/modalFooter';\nimport { search } from './js/API/search';\nimport topFunction from './js/componentsJs/scroolUp';\n\ngetApiList();\n"],"names":["$9ab3a8b038702268$var$LIBRARY_WATCHED","$9ab3a8b038702268$var$LIBRARY_QUEUE","$9ab3a8b038702268$var$watchedCards","JSON","parse","localStorage","getItem","$9ab3a8b038702268$var$queuedCards","$9ab3a8b038702268$var$arrayWatched","$9ab3a8b038702268$var$arrayQueue","setItem","stringify","length","$06f003b72bcf3aba$var$refs","openModalBtn","document","querySelector","closeModalBtn","modal","addEventListener","$06f003b72bcf3aba$var$toggleModal","event1","preventDefault","classList","toggle","body","style","overflow","event","key","$f5LFc","parcelRequire","$5a18996bdb9a75f2$var$spinner","$5a18996bdb9a75f2$export$2e2bcd8739ae039","search","remove","add","$a20dab66d99c19dc$var$themoviedbAPI","ThemoviedbAPI","$a20dab66d99c19dc$var$searchInput","$a20dab66d99c19dc$var$errorText","$a20dab66d99c19dc$var$container","$a20dab66d99c19dc$var$currentPage","$a20dab66d99c19dc$var$processSuccess","data","total_results","value","trim","innerHTML","$bOuzt","renderPagination","page","total_pages","arr","$hGNcL","handleSuccess","$i464J","renderModalFilm","removeEventListener","handlePagination","$a20dab66d99c19dc$var$handlePaginationForSearch","results","target","tagName","textContent","Number","getSearchMovie","then","color","getApiList"],"version":3,"file":"index.cbe01029.js.map"}