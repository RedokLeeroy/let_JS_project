!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var r={id:t,exports:{}};return e[t]=r,o.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequired7c6=o);var r="library-watched",a="library-queie",l=[],c=[];localStorage.setItem(r,JSON.stringify(l)),localStorage.setItem(a,JSON.stringify(c));var i,s,d=document.querySelector(".modal-film"),u=document.querySelector(".gallery");function m(t){var e,n,o,u,m,f;t.target.closest("li")&&(!function(t){var e=s.find((function(e){return e.id===Number(t)}));i=e;var n=e.original_title,o=e.popularity,r=e.vote_average,a=e.vote_count,l=e.overview,c=e.poster_path,u=e.title,m=e.genre_name,f=r.toString().slice(0,3),p=Math.floor(o),b=m.join(", "),v="\n  <div class='backdrop'>\n    <div class='modal-container'>\n      <button class=\"btn-close\" type=\"button\" data-action='close-modal-1'></button>\n      <div class='cont-preview' >\n        <img class='cont-prew__image' src=\"https://image.tmdb.org/t/p/w500".concat(c,'" alt="').concat(u,"\" loading=\"lazy\" />\n      </div>\n      \n      <div class='modal-content'>\n        <h3 class='film-title'>").concat(n,"</h3>\n          <table class='table'>\n        <tbody>\n          <tr>\n            <td><p class='table-text__left'>Vote / Votes</p></td>\n            <td>\n              <p class='table-text__right'>\n                <span class='average'>").concat(f,"</span>\n                <span class='awerage-dot'> /</span> ").concat(a,"\n              </p>\n            </td>\n            </tr>\n          <tr>\n            <td><p class='table-text__left'>Popularity</p></td>\n            <td><p class='table-text__right'>").concat(p,"</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Original Title</p></td>\n            <td><p class='table-text__right '>").concat(n,"</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Genre</p></td>\n            <td><p class='table-text__right '>").concat(b,"</p></td>\n          </tr>\n        </tbody>\n        </table>\n          <p class='descr-text'>About</p>\n          <p class='descr-text-content '> ").concat(l,"</p>\n        <ul class='btn-list'>\n          <li class='btn-list__item'>\n           <button class='btn-list__item-btn--add' type=\"button\">add to Watched</button>\n          </li>\n          <li class='btn-list__item'>\n            <button class='btn-list__item-btn--queie' type=\"button\">add to queue</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  ");d.insertAdjacentHTML("afterbegin",v)}(t.target.closest("li").id),e=document.querySelector('[data-action="close-modal-1"]'),n=document.querySelector(".modal-film"),o=document.querySelector(".backdrop"),e.addEventListener("click",(function(t){n.innerHTML="",document.body.classList.remove("hidden")})),o.addEventListener("click",(function(t){t.currentTarget===t.target&&(n.innerHTML="",document.body.classList.remove("hidden"))})),window.addEventListener("keydown",(function t(e){"Escape"===e.code&&(n.innerHTML="",window.removeEventListener("keydown",t),document.body.classList.remove("hidden"))})),u=i,m=document.querySelector(".btn-list__item-btn--add"),f=document.querySelector(".btn-list__item-btn--queie"),m.addEventListener("click",(function(){l.push(u),localStorage.setItem(r,JSON.stringify(l))})),f.addEventListener("click",(function(){c.push(u),localStorage.setItem(a,JSON.stringify(c))})),document.body.classList.add("hidden"))}function f(t){u.addEventListener("click",m),s=t}var p,b=o("f5LFc"),v=o("6gYyp"),y=(b=o("f5LFc"),{container:document.querySelector(".pagination-container"),leftArrow:document.querySelector(".left-arrow"),rightArrow:document.querySelector(".rightArrow")});new(0,b.ThemoviedbAPI);function g(t,e){if(t&&e&&1!==e){var n="",o=t-1,r=t+1,a=t+2;t>1&&(n+='<li class="button style_color">&loarr;</li>'),t>2&&(n+='<li class="button style_enpty">1</li>'),t>4&&(n+='<li class="button">&middot&middot&middot</li>'),t>3&&(n+='<li class="button style_enpty">'.concat(t-2,"</li>")),t>1&&(n+='<li class="button style_enpty">'.concat(o,"</li>")),n+="<li class = 'pagination-active'>".concat(t,"</li>"),t+1<e&&(n+='<li class="button style_enpty">'.concat(r,"</li>")),t+2<e&&(n+='<li class="button style_enpty">'.concat(a,"</li>")),e>t+3&&(n+='<li class="button">&middot&middot&middot</li>'),e>t&&(n+='<li class="button style_enpty">'.concat(e,"</li>")),e>t&&(n+='<li class="button style_color">&roarr;</li>'),y.container.innerHTML=n}}(new(0,(b=o("f5LFc")).ThemoviedbAPI)).getGanres().then((function(t){p=t.genres}));var _=document.querySelector(".gallery"),h=document.querySelector(".pagination-container"),L=new(0,b.ThemoviedbAPI),S=1;function w(t){t.results.forEach((function(t){var e,n,o=(e=t.genre_ids,n=[],e.forEach((function(t){var e=p.find((function(e){return e.id===t}));n.push(e)})),n.map((function(t){return t.name})));!function(t,e){var n=t;n.genre_name=e}(t,o)}));var e=t.results;return _.insertAdjacentHTML("beforeend",(0,v.createCard)(t.results)),_.innerHTML=(0,v.createCard)(t.results),g(t.page,t.total_pages),h.addEventListener("click",q),e}function q(t){if("LI"===t.target.tagName&&"..."!==t.target.textContent){var e=t.target.textContent;S="⇽"===e?Number(S)-1:"⇾"===e?Number(S)+1:e,L.getMovies(S).then((function(t){f(w(t))}))}}L.getMovies().then((function(t){f(w(t))}));var M={openModalBtn:document.querySelector(".open-btn"),closeModalBtn:document.querySelector(".close-btn"),modal:document.querySelector(".modal")};function x(t){t.preventDefault(),M.modal.classList.toggle("is-hidden"),M.closeModalBtn.addEventListener("click",x),"hidden"===document.body.style.overflow?document.body.style.overflow="auto":document.body.style.overflow="hidden"}M.openModalBtn.addEventListener("click",x);b=o("f5LFc");o("6gYyp");var T=new(0,b.ThemoviedbAPI),E=document.querySelector(".search-input"),k=(document.querySelector(".gallery"),document.querySelector(".error")),N=document.querySelector(".pagination-container"),A=1;function H(t){return 0===t.total_results||""===E.value.trim()?(N.innerHTML="",k.innerHTML="Search result not successful. Enter the correct movie name and"):g(t.page,t.total_pages),N.addEventListener("click",I),t.results}function I(t){if("LI"===t.target.tagName&&"..."!==t.target.textContent){var e=t.target.textContent;A="⇽"===e?Number(A)-1:"⇾"===e?Number(A)+1:e,T.getSearchMovie(E.value,A).then(H)}}document.querySelector(".search-form").addEventListener("submit",(function(t){t.preventDefault(),k.innerHTML="",T.getSearchMovie(E.value,A).then((function(t){if(0!==t.total_results){var e=w(t);H(t),f(e)}else H(t)}))}))}();
//# sourceMappingURL=index.b612a85d.js.map
