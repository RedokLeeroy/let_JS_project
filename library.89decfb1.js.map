{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAKMC,EAAUC,SAASC,cAAc,YACjCC,EAAaF,SAASG,eAAe,kBACrCC,EAAWJ,SAASG,eAAe,gBACnCE,EAAqBL,SAASC,cAAc,gBAI5CK,EAAW,CACfC,KAHgB,EAIhBC,QAAS,GACTC,YAAa,EACbC,gBAAgB,EAChBC,WAAW,EACXC,UAAU,GAQZ,SAASC,IACP,IAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAxBvB,oBA8BtB,GALAZ,EAASE,QAAU,GACnBW,EAAkBL,GAClBV,EAASgB,UAAUC,OAAO,kBAC1BnB,EAAWkB,UAAUE,IAAI,mBAEG,IAAxBR,EAAaS,OAAc,CAC7BjB,EAASE,QAAU,GACnBM,EAAaU,SAAQ,SAAAC,GACnBnB,EAASE,QAAQkB,KAAKD,MAExB,IAAME,GAAM,EAAA9B,EAAA+B,eAActB,IAC1B,EAAAuB,EAAAC,iBAAgBH,QAEhB5B,EAAQgC,UAAY,GAwBxB,SAASZ,EAAkBa,GACrBA,EAAWT,OACblB,EAAmB4B,MAAMC,QAAU,OAEnC7B,EAAmB4B,MAAMC,QAAU,QAhDvCrB,IAEAX,EAAWiC,iBAAiB,QAAStB,GACrCT,EAAS+B,iBAAiB,SAqB1B,WACE,IAAMC,EAAcrB,KAAKC,MAAMC,aAAaC,QA1CxB,kBAgDpB,GALAZ,EAASE,QAAU,GACnBW,EAAkBiB,GAClBlC,EAAWkB,UAAUC,OAAO,mBAC5BjB,EAASgB,UAAUE,IAAI,kBAEI,IAAvBc,EAAYb,OAAc,CAC5BjB,EAASE,QAAU,GACnB4B,EAAYZ,SAAQ,SAAAC,GAClBnB,EAASE,QAAQkB,KAAKD,MAGxB,IAAME,GAAM,EAAA9B,EAAA+B,eAActB,IAC1B,EAAAuB,EAAAC,iBAAgBH,QAEhB5B,EAAQgC,UAAY,M","sources":["src/js/componentsJs/library.js"],"sourcesContent":["import { handleSuccess } from './generateCardList';\nimport { renderModalFilm } from '../templates/renderModalFilm';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\nconst gallery = document.querySelector('.gallery');\nconst watchedBtn = document.getElementById('watched-button');\nconst queueBtn = document.getElementById('queue-button');\nconst libraryPlaceholder = document.querySelector('.placeholder');\n\nlet currentPage = 1;\n\nconst localObj = {\n  page: currentPage,\n  results: [],\n  total_pages: 0,\n  inLocalStorage: true,\n  isWatched: false,\n  isQueued: false,\n};\n\nwatchCards();\n\nwatchedBtn.addEventListener('click', watchCards);\nqueueBtn.addEventListener('click', queueCards);\n\nfunction watchCards() {\n  const watchedCards = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n  localObj.results = [];\n  togglePlaceholder(watchedCards);\n  queueBtn.classList.remove('active__queued');\n  watchedBtn.classList.add('active__watched');\n\n  if (watchedCards.length !== 0) {\n    localObj.results = [];\n    watchedCards.forEach(element => {\n      localObj.results.push(element);\n    });\n    const arr = handleSuccess(localObj);\n    renderModalFilm(arr);\n  } else {\n    gallery.innerHTML = '';\n  }\n}\n\nfunction queueCards() {\n  const queuedCards = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n  localObj.results = [];\n  togglePlaceholder(queuedCards);\n  watchedBtn.classList.remove('active__watched');\n  queueBtn.classList.add('active__queued');\n\n  if (queuedCards.length !== 0) {\n    localObj.results = [];\n    queuedCards.forEach(element => {\n      localObj.results.push(element);\n    });\n\n    const arr = handleSuccess(localObj);\n    renderModalFilm(arr);\n  } else {\n    gallery.innerHTML = '';\n  }\n}\n\nfunction togglePlaceholder(collection) {\n  if (collection.length) {\n    libraryPlaceholder.style.display = 'none';\n  } else {\n    libraryPlaceholder.style.display = 'block';\n  }\n}\n"],"names":["$hGNcL","parcelRequire","$db705a94afdbbb46$var$gallery","document","querySelector","$db705a94afdbbb46$var$watchedBtn","getElementById","$db705a94afdbbb46$var$queueBtn","$db705a94afdbbb46$var$libraryPlaceholder","$db705a94afdbbb46$var$localObj","page","results","total_pages","inLocalStorage","isWatched","isQueued","$db705a94afdbbb46$var$watchCards","watchedCards","JSON","parse","localStorage","getItem","$db705a94afdbbb46$var$togglePlaceholder","classList","remove","add","length","forEach","element","push","arr","handleSuccess","$i464J","renderModalFilm","innerHTML","collection","style","display","addEventListener","queuedCards"],"version":3,"file":"library.89decfb1.js.map"}