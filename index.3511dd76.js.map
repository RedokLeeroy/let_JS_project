{"mappings":"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","sources":["src/js/componentsJs/setLocalStorage.js","src/js/componentsJs/generateCardList.js","src/js/componentsJs/decodeGanre.js","src/js/pagination/pagination.js","src/js/componentsJs/removeCard.js","src/js/componentsJs/manageFilms.js","src/js/templates/renderModalFilm.js","src/js/componentsJs/toogleModal.js","src/js/componentsJs/modalFooter.js","src/js/API/search.js","src/js/componentsJs/makeSpinner.js"],"sourcesContent":["// import removeFilmsFromLibrary from './removeCard';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\n\nconst watchedCards = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\nconst queuedCards = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\nlet arrayWatched = [];\nlet arrayQueue = [];\n\nif (!watchedCards) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n}\n\nif (!watchedCards.length) {\n  localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n} else {\n  arrayWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n}\n\nif (!queuedCards) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n}\n\nif (!queuedCards.length) {\n  localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n} else {\n  arrayQueue = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n}\n\nexport function addToWatch(data) {\n  console.log('add watch');\n  const btnAddWatch = document.querySelector('.btn-list__item-btn--add');\n  btnAddWatch.addEventListener('click', () => {\n    data.inLocalStorage = true;\n    data.isWatched = true;\n\n    btnAddWatch.textContent = 'Added!';\n    btnAddWatch.disabled = true;\n\n    const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n\n    let cardIdWatch = [];\n\n    getCardWatched.map(el => {\n      cardIdWatch.push(el.id);\n    });\n\n    if (cardIdWatch.find(el => el === data.id)) {\n      return;\n    }\n\n    arrayWatched.push(data);\n    localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(arrayWatched));\n  });\n}\n\nexport function addQueue(data) {\n  console.log('add queue');\n  const btnAddQueie = document.querySelector('.btn-list__item-btn--queie');\n  btnAddQueie.addEventListener('click', () => {\n    data.inLocalStorage = true;\n    data.isQueued = true;\n\n    btnAddQueie.textContent = 'Added!';\n    btnAddQueie.disabled = true;\n\n    const getCardQueue = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n    let cardIdQueue = [];\n\n    getCardQueue.map(el => {\n      cardIdQueue.push(el.id);\n    });\n\n    if (cardIdQueue.find(el => el === data.id)) {\n      return;\n    }\n    arrayQueue.push(data);\n    localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(arrayQueue));\n  });\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\nimport { createCard } from './createCard';\nimport { renderModalFilm } from '../templates/renderModalFilm';\nimport { renderPagination } from '../pagination/pagination';\nimport { serchGenre } from './decodeGanre';\n\nconst gallery = document.querySelector('.gallery');\nconst container = document.querySelector('.pagination-container');\nconst themoviedbAPI = new ThemoviedbAPI();\n\nlet currentPage = 1;\nexport function getApiList() {\n  themoviedbAPI.getMovies().then(data => {\n    const arr = handleSuccess(data);\n    renderModalFilm(arr);\n  });\n}\n\nexport function handleSuccess(data) {\n  if (!data.inLocalStorage) {\n    data.results.forEach(element => {\n      const genreName = serchGenre(element.genre_ids);\n      const newObj = recordingGenre(element, genreName);\n    });\n  }\n\n  let newData = data.results;\n  // gallery.insertAdjacentHTML('beforeend', createCard(data.results));\n  gallery.innerHTML = createCard(data.results);\n  renderPagination(data.page, data.total_pages);\n  container.addEventListener('click', handlePagination);\n  return newData;\n}\n\nexport function handlePagination(event) {\n  if (event.target.tagName !== 'LI' || event.target.textContent === '...') {\n    return;\n  }\n  const page = event.target.textContent;\n  if (page === '⇽') {\n    currentPage = Number(currentPage) - 1;\n  } else if (page === '⇾') {\n    currentPage = Number(currentPage) + 1;\n  } else {\n    currentPage = page;\n  }\n  themoviedbAPI.getMovies(currentPage).then(data => {\n    const arr = handleSuccess(data);\n    renderModalFilm(arr);\n  });\n}\n\nfunction recordingGenre(obj, arr) {\n  const newObj = obj;\n  newObj.genre_name = arr;\n  newObj.isWatched = false;\n  newObj.isQueued = false;\n\n  return newObj;\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nthemoviedbAPI.getGanres().then(setGenreArr);\n\nlet genresArr;\n\nfunction setGenreArr(data) {\n  genresArr = data.genres;\n}\n\nexport function serchGenre(curentArr) {\n  let curentGenres = [];\n\n  curentArr.forEach(element => {\n    let obj = genresArr.find(el => el.id === element);\n    curentGenres.push(obj);\n  });\n\n  const genrsNames = curentGenres.map(el => el.name);\n\n  return genrsNames;\n}\n","import { ThemoviedbAPI } from '../API/themoviedb-api';\n\nconst refs = {\n  container: document.querySelector('.pagination-container'),\n  leftArrow: document.querySelector('.left-arrow'),\n  rightArrow: document.querySelector('.rightArrow'),\n};\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\nexport function renderPagination(page, totalPages) {\n  if (!page || !totalPages || totalPages === 1) {\n    return;\n  }\n  let markup = '';\n  const beforePrevPage = page - 2;\n  const prevPage = page - 1;\n  const nextPage = page + 1;\n  const afterNextPage = page + 2;\n\n  if (page > 1) {\n    markup += `<li class=\"button style_color\">&loarr;</li>`;\n  }\n\n  if (page > 2) {\n    markup += `<li class=\"button style_enpty\">1</li>`;\n  }\n\n  if (page > 4) {\n    markup += `<li class=\"button\">&middot&middot&middot</li>`;\n  }\n\n  if (page > 3) {\n    markup += `<li class=\"button style_enpty\">${beforePrevPage}</li>`;\n  }\n\n  if (page > 1) {\n    markup += `<li class=\"button style_enpty\">${prevPage}</li>`;\n  }\n\n  markup += `<li class = 'pagination-active'>${page}</li>`;\n\n  if (page + 1 < totalPages) {\n    markup += `<li class=\"button style_enpty\">${nextPage}</li>`;\n  }\n\n  if (page + 2 < totalPages) {\n    markup += `<li class=\"button style_enpty\">${afterNextPage}</li>`;\n  }\n\n  if (totalPages > page + 3) {\n    markup += `<li class=\"button\">&middot&middot&middot</li>`;\n  }\n\n  if (totalPages > page) {\n    markup += `<li class=\"button style_enpty\">${totalPages}</li>`;\n  }\n\n  if (totalPages > page) {\n    markup += '<li class=\"button style_color\">&roarr;</li>';\n  }\n  refs.container.innerHTML = markup;\n}\n","import { handleSuccess } from './generateCardList';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\nlet currentPage = 1;\n\nexport function removeFromWatch(data) {\n  console.log('remove watch');\n  const btnAddWatch = document.querySelector('.btn-list__item-btn--add');\n  const dataPage = document.querySelector('[data-page]');\n  const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n\n  if (data.isWatched) {\n    btnAddWatch.textContent = 'Remove';\n  }\n\n  btnAddWatch.addEventListener('click', () => {\n    let cardIdWatch = [];\n    let newWatchedArray = getCardWatched.filter(el => el.id !== data.id);\n\n    getCardWatched.map(el => {\n      cardIdWatch.push(el.id);\n    });\n\n    if (!cardIdWatch.find(el => el === data.id)) {\n      return;\n    }\n\n    const localObj = {\n      page: currentPage,\n      results: newWatchedArray,\n      total_pages: 0,\n      inLocalStorage: false,\n      isWatched: false,\n    };\n\n    if (dataPage.dataset.page === 'library') {\n      handleSuccess(localObj);\n    }\n\n    btnAddWatch.textContent = 'Removed!';\n    btnAddWatch.disabled = true;\n\n    localStorage.setItem(LIBRARY_WATCHED, JSON.stringify(newWatchedArray));\n  });\n}\n\nexport function removeFromQueue(data) {\n  console.log('remove queue');\n  const btnAddQueie = document.querySelector('.btn-list__item-btn--queie');\n\n  const dataPage = document.querySelector('[data-page]');\n\n  const getCardQueued = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n  if (data.isQueued) {\n    btnAddQueie.textContent = 'Remove';\n  }\n\n  btnAddQueie.addEventListener('click', () => {\n    let cardIdQueue = [];\n    let newQueuedArray = getCardQueued.filter(el => el.id !== data.id);\n\n    getCardQueued.map(el => {\n      cardIdQueue.push(el.id);\n    });\n\n    if (!cardIdQueue.find(el => el === data.id)) {\n      return;\n    }\n\n    const localObj = {\n      page: currentPage,\n      results: newQueuedArray,\n      total_pages: 0,\n      inLocalStorage: false,\n      isQueued: false,\n    };\n\n    if (dataPage.dataset.page === 'library') {\n      handleSuccess(localObj);\n    }\n\n    btnAddQueie.textContent = 'Removed!';\n    btnAddQueie.disabled = true;\n\n    localStorage.setItem(LIBRARY_QUEUE, JSON.stringify(newQueuedArray));\n  });\n}\n","import { addToWatch } from './setLocalStorage';\nimport { addQueue } from './setLocalStorage';\nimport { removeFromWatch } from './removeCard';\nimport { removeFromQueue } from './removeCard';\n\nconst LIBRARY_WATCHED = 'library-watched';\nconst LIBRARY_QUEUE = 'library-queie';\n\nexport default function manageFilms(data) {\n  const getCardWatched = JSON.parse(localStorage.getItem(LIBRARY_WATCHED));\n  const getCardQueued = JSON.parse(localStorage.getItem(LIBRARY_QUEUE));\n\n  let cardIdWatch = [];\n  let cardIdQueue = [];\n\n  getCardWatched.map(el => {\n    cardIdWatch.push(el.id);\n  });\n  getCardQueued.map(el => {\n    cardIdQueue.push(el.id);\n  });\n\n  if (!cardIdWatch.find(el => el === data.id)) {\n    addToWatch(data);\n  } else {\n    removeFromWatch(data);\n  }\n\n  if (!cardIdQueue.find(el => el === data.id)) {\n    addQueue(data);\n  } else {\n    removeFromQueue(data);\n  }\n}\n","import closeModal from '../componentsJs/toogleModal';\nimport manageFilms from '../componentsJs/manageFilms';\n\nconst modalFilmCard = document.querySelector('.modal-film');\nconst getList = document.querySelector('.gallery');\n\nlet addLib;\nlet cards;\n\nfunction onclick(evt) {\n  if (!evt.target.closest('li')) {\n    return;\n  }\n  const ids = evt.target.closest('li').id;\n  renderFilms(ids);\n  closeModal();\n  manageFilms(addLib);\n\n  document.body.classList.add('hidden');\n}\n\nfunction renderFilms(id) {\n  const obj = cards.find(option => option.id === Number(id));\n  addLib = obj;\n  const {\n    original_title,\n    popularity,\n    vote_average,\n    vote_count,\n    overview,\n    poster_path,\n    title,\n    genre_name,\n  } = obj;\n\n  const average = vote_average.toString().slice(0, 3);\n  const popularityCalc = Math.floor(popularity);\n  const genreNames = genre_name.join(', ');\n\n  const renderFilm = `\n  <div class='backdrop'>\n    <div class='modal-container'>\n      <button class=\"btn-close\" type=\"button\" data-action='close-modal-1'></button>\n      <div class='cont-preview' >\n        <img class='cont-prew__image' src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n      </div>\n      \n      <div class='modal-content'>\n        <h3 class='film-title'>${original_title}</h3>\n          <table class='table'>\n        <tbody>\n          <tr>\n            <td><p class='table-text__left'>Vote / Votes</p></td>\n            <td>\n              <p class='table-text__right'>\n                <span class='average'>${average}</span>\n                <span class='awerage-dot'> /</span> ${vote_count}\n              </p>\n            </td>\n            </tr>\n          <tr>\n            <td><p class='table-text__left'>Popularity</p></td>\n            <td><p class='table-text__right'>${popularityCalc}</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Original Title</p></td>\n            <td><p class='table-text__right '>${original_title}</p></td>\n          </tr>\n            <tr>\n            <td><p class='table-text__left'>Genre</p></td>\n            <td><p class='table-text__right '>${genreNames}</p></td>\n          </tr>\n        </tbody>\n        </table>\n          <p class='descr-text'>About</p>\n          <p class='descr-text-content '> ${overview}</p>\n        <ul class='btn-list'>\n          <li class='btn-list__item'>\n           <button class='btn-list__item-btn--add' type=\"button\">add to Watched</button>\n          </li>\n          <li class='btn-list__item'>\n            <button class='btn-list__item-btn--queie' type=\"button\">add to queue</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  `;\n\n  return modalFilmCard.insertAdjacentHTML('afterbegin', renderFilm);\n}\nexport function renderModalFilm(data) {\n  getList.addEventListener('click', onclick);\n  cards = data;\n}\n","export default function closeModal() {\n  const closeModalBtn = document.querySelector('[data-action=\"close-modal-1\"]');\n  const modalFilmCard = document.querySelector('.modal-film');\n  const backdropClose = document.querySelector('.backdrop');\n\n  closeModalBtn.addEventListener('click', evt => {\n    modalFilmCard.innerHTML = '';\n\n    document.body.classList.remove('hidden');\n  });\n  backdropClose.addEventListener('click', evt => {\n    if (evt.currentTarget === evt.target) {\n      modalFilmCard.innerHTML = '';\n\n      document.body.classList.remove('hidden');\n    }\n  });\n  window.addEventListener('keydown', onEscape);\n\n  function onEscape(evt) {\n    if (evt.code === 'Escape') {\n      modalFilmCard.innerHTML = '';\n      window.removeEventListener('keydown', onEscape);\n\n      document.body.classList.remove('hidden');\n    }\n  }\n}\n","const refs = {\n  openModalBtn: document.querySelector('.open-btn'),\n  closeModalBtn: document.querySelector('.close-btn'),\n  modal: document.querySelector('.modal'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal(event) {\n  event.preventDefault();\n  refs.modal.classList.toggle('is-hidden');\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  if (document.body.style.overflow === 'hidden') {\n    document.body.style.overflow = 'auto';\n  } else {\n    document.body.style.overflow = 'hidden';\n  }\n}\nexport default function callModal() {\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      return toggleModal(event);\n    }\n  });\n}\n","import { ThemoviedbAPI } from './themoviedb-api';\nimport { renderPagination } from '../pagination/pagination';\nimport { handleSuccess } from '../componentsJs/generateCardList';\nimport { renderModalFilm } from '../templates/renderModalFilm';\nimport { handlePagination } from '../componentsJs/generateCardList';\nimport showSpinner from '../componentsJs/makeSpinner';\n\nconst themoviedbAPI = new ThemoviedbAPI();\nconst searchInput = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst errorText = document.querySelector('.error');\nconst container = document.querySelector('.pagination-container');\n\nlet currentPage = 1;\n\nconst searchForm = document.querySelector('.search-form');\nsearchForm.addEventListener('submit', search);\n\nexport function search(event) {\n  event.preventDefault();\n\n  if (searchInput.value.trim() === '') {\n    errorText.innerHTML = 'Please enter any text';\n    return;\n  }\n\n  errorText.innerHTML = '';\n  currentPage = 1;\n  showSpinner('show');\n\n  themoviedbAPI.getSearchMovie(searchInput.value, currentPage).then(data => {\n    if (data.total_results === 0) {\n      errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n      showSpinner('hide');\n      return;\n    }\n    const arr = handleSuccess(data);\n    processSuccess(data);\n    renderModalFilm(arr);\n    showSpinner('hide');\n  });\n}\n\nfunction processSuccess(data) {\n  if (data.total_results === 0 || searchInput.value.trim() === '') {\n    container.innerHTML = '';\n    errorText.innerHTML = `Search result not successful. Enter the correct movie name and`;\n  } else {\n    renderPagination(data.page, data.total_pages);\n  }\n\n  const arr = handleSuccess(data);\n  renderModalFilm(arr);\n  container.removeEventListener('click', handlePagination);\n  container.addEventListener('click', handlePaginationForSearch);\n  return data.results;\n}\n\nfunction handlePaginationForSearch(event) {\n  if (event.target.tagName !== 'LI' || event.target.textContent === '...') {\n    return;\n  }\n  const page = event.target.textContent;\n  if (page === '⇽') {\n    currentPage = Number(currentPage) - 1;\n  } else if (page === '⇾') {\n    currentPage = Number(currentPage) + 1;\n  } else {\n    currentPage = page;\n  }\n  themoviedbAPI\n    .getSearchMovie(searchInput.value, currentPage)\n    .then(processSuccess);\n}\n","const spinner = document.querySelector('.load-wrapp');\n\nexport default function showSpinner(search) {\n  if (search === 'show') {\n    spinner.classList.remove('is-hidden');\n  }\n  if (search === 'hide') {\n    spinner.classList.add('is-hidden');\n  }\n}\n"],"names":["$9ab3a8b038702268$var$LIBRARY_WATCHED","$9ab3a8b038702268$var$LIBRARY_QUEUE","$9ab3a8b038702268$var$watchedCards","JSON","parse","localStorage","getItem","$9ab3a8b038702268$var$queuedCards","$9ab3a8b038702268$var$arrayWatched","$9ab3a8b038702268$var$arrayQueue","$9ab3a8b038702268$export$cd02e521d36c2bb","data","console","log","btnAddWatch","document","querySelector","addEventListener","inLocalStorage","isWatched","textContent","disabled","getCardWatched","cardIdWatch","map","el","push","id","find","setItem","stringify","$9ab3a8b038702268$export$2d50e6498fc49b95","btnAddQueie","isQueued","getCardQueue","cardIdQueue","length","$7cf944ac7268b858$var$genresArr","$f5LFc","parcelRequire","$899c14056b4eb0a5$var$refs","container","leftArrow","rightArrow","ThemoviedbAPI","$899c14056b4eb0a5$export$825408fbca4f2040","page","totalPages","markup","prevPage","nextPage","afterNextPage","concat","innerHTML","getGanres","then","genres","$ce0c86f74ea7b6e6$var$gallery","$ce0c86f74ea7b6e6$var$container","$ce0c86f74ea7b6e6$var$themoviedbAPI","$ce0c86f74ea7b6e6$var$currentPage","$ce0c86f74ea7b6e6$export$3134aad02465a5ae","results","forEach","element","curentArr","curentGenres","genreName","genre_ids","obj","name","arr","newObj","genre_name","$ce0c86f74ea7b6e6$var$recordingGenre","newData","$6gYyp","createCard","total_pages","$ce0c86f74ea7b6e6$export$db9418c39585fd07","event","target","tagName","Number","getMovies","$d26d502948c77ecd$export$73c309201c7743a4","$d99fe06e5c571890$var$LIBRARY_WATCHED","$d99fe06e5c571890$var$LIBRARY_QUEUE","$d99fe06e5c571890$export$efd73f417efe230f","dataPage","newWatchedArray","filter","localObj","dataset","$d99fe06e5c571890$export$127439b6425a90f6","getCardQueued","newQueuedArray","$29065cecffc0474b$export$2e2bcd8739ae039","$d26d502948c77ecd$var$addLib","$d26d502948c77ecd$var$cards","$d26d502948c77ecd$var$modalFilmCard","$d26d502948c77ecd$var$getList","$d26d502948c77ecd$var$onclick","evt","closeModalBtn","modalFilmCard","backdropClose","closest","option","original_title","popularity","vote_average","vote_count","overview","poster_path","title","average","toString","slice","popularityCalc","Math","floor","genreNames","join","renderFilm","insertAdjacentHTML","$d26d502948c77ecd$var$renderFilms","body","classList","remove","currentTarget","window","onEscape","code","removeEventListener","add","$06f003b72bcf3aba$var$refs","openModalBtn","modal","$06f003b72bcf3aba$var$toggleModal","preventDefault","toggle","style","overflow","$5a18996bdb9a75f2$var$spinner","$5a18996bdb9a75f2$export$2e2bcd8739ae039","search","$a20dab66d99c19dc$var$themoviedbAPI","$a20dab66d99c19dc$var$searchInput","$a20dab66d99c19dc$var$errorText","$a20dab66d99c19dc$var$container","$a20dab66d99c19dc$var$currentPage","$a20dab66d99c19dc$var$processSuccess","total_results","value","trim","$a20dab66d99c19dc$var$handlePaginationForSearch","getSearchMovie"],"version":3,"file":"index.3511dd76.js.map"}